import{c as g,a as y,j as t,b as R,r as h,B as x,_ as k,D as E,d as V,e as H,f as B,g as Q,h as Z,L as X,i as $,u as T,k as q,l as K}from"./index-DtmGh-ef.js";import{A as W,a as L,b as A}from"./avatar-NqWw3IQC.js";import{I}from"./input-CwvonfPM.js";import{C as w}from"./card-oELOtQkW.js";/**
 * @license lucide-react v0.379.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G=g("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.379.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _=g("CircleMinus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}]]);/**
 * @license lucide-react v0.379.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ee=g("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.379.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const te=g("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.379.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ae=g("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]);/**
 * @license lucide-react v0.379.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y=g("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.379.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ne=g("Locate",[["line",{x1:"2",x2:"5",y1:"12",y2:"12",key:"bvdh0s"}],["line",{x1:"19",x2:"22",y1:"12",y2:"12",key:"1tbv5k"}],["line",{x1:"12",x2:"12",y1:"2",y2:"5",key:"11lu5j"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}],["circle",{cx:"12",cy:"12",r:"7",key:"fim9np"}]]);/**
 * @license lucide-react v0.379.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const se=g("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.379.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const re=g("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.379.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ie=g("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.379.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const le=g("UserRound",[["circle",{cx:"12",cy:"8",r:"5",key:"1hypcn"}],["path",{d:"M20 21a8 8 0 0 0-16 0",key:"rfgkzh"}]]);/**
 * @license lucide-react v0.379.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oe=g("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);/**
 * @license lucide-react v0.379.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ce=g("View",[["path",{d:"M5 12s2.545-5 7-5c4.454 0 7 5 7 5s-2.546 5-7 5c-4.455 0-7-5-7-5z",key:"vptub8"}],["path",{d:"M12 13a1 1 0 1 0 0-2 1 1 0 0 0 0 2z",key:"10lhjs"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-2",key:"mrq65r"}],["path",{d:"M21 7V5a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v2",key:"be3xqs"}]]),de=e=>y.get(e).then(n=>n.data);function v({className:e,...n}){return t.jsx("div",{className:R("animate-pulse rounded-md bg-muted",e),...n})}const U=h.forwardRef(({className:e,...n},a)=>t.jsx("textarea",{className:R("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:a,...n}));U.displayName="Textarea";const ue=({setSelectedImage:e,selectedVideo:n,setSelectedVideo:a,setShowLink:s,showLink:r})=>{const o=h.useRef(null),l=i=>{if(n&&a(null),r&&s(!1),i.target.files&&i.target.files[0]){const d=i.target.files[0];if(d.size>5*1024*1024){k.error("File size exceeds limit of 5 MB"),e(null);return}const c=new FileReader;c.onloadend=()=>{e(c.result)},c.readAsDataURL(d)}};return t.jsxs("div",{children:[t.jsx(x,{variant:"link",onClick:()=>{var i;return(i=o.current)==null?void 0:i.click()},children:t.jsx(te,{className:"w-5 h-5 cursor-pointer dark:text-gray-50"})}),t.jsx("input",{ref:o,type:"file",id:"file-input",accept:"image/*",className:"hidden",onChange:l})]})},me=({setSelectedVideo:e,selectedImage:n,setSelectedImage:a,setShowLink:s,showLink:r})=>{const o=h.useRef(null),l=i=>{if(n&&a(null),r&&s(!1),i.target.files&&i.target.files[0]){const d=i.target.files[0];if(d.size>20*1024*1024){k.error("File size exceeds limit of 0 MB"),e(null);return}const c=new FileReader;c.onloadend=()=>{e(c.result)},c.readAsDataURL(d)}};return t.jsxs("div",{children:[t.jsx(x,{variant:"link",onClick:()=>{var i;(i=o.current)==null||i.click()},children:t.jsx(oe,{className:"w-5 h-5 cursor-pointer dark:text-gray-50"})}),t.jsx("input",{ref:o,type:"file",id:"video-input",accept:"video/*",className:"hidden",onChange:l})]})};function he({setShowLink:e,setSelectedImage:n,setSelectedVideo:a,selectedVideo:s,selectedImage:r}){return t.jsx(x,{variant:"link",onClick:()=>{r&&n(null),s&&a(null),e(!0)},children:t.jsx(ae,{className:" h-6 w-6"})})}const fe=({userId:e})=>{const[n,a]=h.useState(""),[s,r]=h.useState(""),[o,l]=h.useState(null),[i,d]=h.useState(!1),[c,f]=h.useState(null),[j,u]=h.useState(!1),[p,b]=h.useState("");async function M(){const N=k.loading("Uploading post....");try{o?await y.post("http://localhost:3000/api/post/create",{title:n,desc:s,userId:e,imageLink:o}):c?await y.post("http://localhost:3000/api/post/create",{title:n,desc:s,userId:e,videoLink:c}):j?await y.post("http://localhost:3000/api/post/create/link",{title:n,desc:s,userId:e,link:p}):await y.post("http://localhost:3000/api/post/create/link",{title:n,desc:s,userId:e}),k.success("Post created successfully",{id:N}),d(!1)}catch(J){console.log(J),k.error("Error creating post")}}return t.jsxs(E,{open:i,onOpenChange:d,children:[t.jsx(V,{asChild:!0,children:t.jsxs(x,{className:"w-full group border border-neutral-400 dark:bg-black dark:border-neutral-700",variant:"secondary",children:[t.jsx(re,{className:" mr-2 h-4 w-4 group-hover:rotate-45 transition-all duration-200 ease-linear"})," ","Create Post"]})}),t.jsxs(H,{className:"max-h-[500px] overflow-y-auto",children:[t.jsxs(B,{children:[t.jsx(Q,{className:"dark:text-neutral-200",children:"Create post"}),t.jsx(Z,{className:"pt-4",children:t.jsxs("div",{className:"space-y-4",children:[t.jsx(I,{value:n,onChange:N=>a(N.target.value),placeholder:"Title....."}),t.jsx(U,{className:"h-[300px]",placeholder:"Description.....",value:s,onChange:N=>r(N.target.value)}),p&&t.jsxs(w,{className:"p-4 border-neutral-700 flex items-center gap-3",children:[t.jsx(Y,{className:"h-5 w-5"}),t.jsx(X,{className:"hover:underline",to:p,children:p})]}),j&&t.jsx(I,{value:p,onChange:N=>b(N.target.value),placeholder:"Attachment Link"}),o&&t.jsxs("div",{className:"relative",children:[t.jsx(x,{onClick:()=>l(null),className:"absolute right-2 top-2 h-fit p-0 z-50",variant:"link",children:t.jsx(_,{className:"w-5 h-4"})}),t.jsx("img",{alt:"Selected Image",src:o,className:"h-auto w-full rounded-lg object-cover border border-neutral-800"})]}),c&&t.jsxs("div",{className:"relative",children:[t.jsx(x,{onClick:()=>f(null),className:"absolute right-2 top-2 h-fit p-0 z-50",variant:"link",children:t.jsx(_,{className:"w-5 h-4"})}),t.jsx("video",{src:c,controls:!0,className:"h-auto w-full rounded-lg object-cover border border-neutral-800"})]})]})})]}),t.jsxs($,{className:"sm:justify-between",children:[t.jsxs("div",{className:"float-left flex items-center",children:[t.jsx(ue,{setSelectedImage:l,setSelectedVideo:f,selectedVideo:c,showLink:j,setShowLink:u}),t.jsx(me,{setSelectedVideo:f,selectedImage:o,setShowLink:u,showLink:j,setSelectedImage:l}),t.jsx(he,{selectedImage:o,selectedVideo:c,setShowLink:u,setSelectedImage:l,setSelectedVideo:f})]}),t.jsx(x,{className:"w-[100px]",onClick:M,children:"Post"})]})]})]})};function xe(){const{data:e,error:n,isLoading:a}=T("http://localhost:3000/api/user/2",de);if(a)return t.jsx(ge,{});if(n)return t.jsx("div",{children:"Error loading"});if(e)return t.jsx("div",{className:"hidden lg:flex flex-col gap-6 col-span-3 sticky top-24 h-fit",children:t.jsxs("div",{className:"flex flex-col items-center gap-6 rounded-lg bg-white border border-neutral-400 dark:bg-black dark:border-neutral-700 ",children:[t.jsxs("div",{className:"relative w-full",children:[e!=null&&e.bgImg?t.jsx("img",{alt:"Banner",className:"h-auto w-full rounded-t-lg aspect-[16/6] object-cover",src:e==null?void 0:e.bgImg}):t.jsx("div",{className:"w-full bg-neutral-300 dark:bg-neutral-700 aspect-[16/6] rounded-t-lg"}),t.jsxs(W,{className:"absolute bottom-0 left-1/2 h-16 w-16 -translate-x-1/2 translate-y-1/2  border-2 border-neutral-700 dark:border-black",children:[t.jsx(L,{alt:"@shadcn",src:e==null?void 0:e.img,className:"object-cover"}),t.jsx(A,{className:"dark:bg-white",children:"CN"})]})]}),t.jsxs("div",{className:"p-6 flex flex-col items-center gap-6",children:[t.jsxs("div",{className:"text-center 0",children:[t.jsx("h3",{className:"text-xl font-bold mb-2 dark:text-neutral-200",children:e==null?void 0:e.name}),t.jsx("p",{className:"text-sm text-gray-500 dark:text-neutral-300",children:e==null?void 0:e.currDesignation}),t.jsxs("div",{className:"flex items-center justify-center text-sm gap-2 pt-2",children:[t.jsx(ne,{className:"h-4 w-4 text-neutral-700 dark:text-neutral-300"}),t.jsxs("p",{className:"text-sm text-gray-500 dark:text-neutral-300",children:[e==null?void 0:e.city,", ",e==null?void 0:e.country]})]}),t.jsxs("div",{className:"flex items-center justify-center text-sm gap-2 pt-2",children:[t.jsx(G,{className:"h-4 w-4 text-neutral-700 dark:text-neutral-300"}),t.jsx("p",{className:"text-sm text-gray-500 dark:text-neutral-300",children:e==null?void 0:e.createdAt.slice(0,10)})]})]}),t.jsxs("div",{className:"flex w-full justify-between items-center text-sm font-medium",children:[t.jsxs("div",{className:"flex items-center gap-1 w-[30%]",children:[t.jsx("span",{className:"text-lg font-bold dark:text-neutral-200",children:e==null?void 0:e.age}),t.jsxs("span",{className:"text-sm font-medium dark:text-neutral-400",children:[" ","years old"]})]}),t.jsxs("span",{className:"text-sm font-normal text-gray-500 dark:text-neutral-300 ",children:["@_",e==null?void 0:e.username]}),t.jsx("div",{className:"flex flex-col items-end w-[30%]",children:t.jsx("span",{className:"text-base  font-bold dark:text-neutral-200",children:e!=null&&e.isMentor?"Mentor":"Mentee"})})]}),t.jsx("p",{className:"font-medium text-center",children:e==null?void 0:e.type}),t.jsx("hr",{className:"border border-neutral-300 dark:border-neutral-700 w-full"}),t.jsx("p",{className:"text-sm text-center text-neutral-500 dark:text-neutral-300",children:e==null?void 0:e.desc}),e.username&&t.jsx(fe,{userId:e.id}),t.jsxs(x,{className:"w-full",children:[t.jsx(ie,{className:"mr-2 h-4 w-4"}),"Edit Profile"]})]})]})})}function ge(){return t.jsx(v,{className:"col-span-3 h-[70vh] rounded-xl"})}function pe({comment:e}){return t.jsxs(w,{className:"dark:border-neutral-800",children:[t.jsxs("div",{className:"flex pl-4 my-2 gap-4",children:[t.jsx("div",{className:"relative",children:t.jsxs(W,{className:"  border-2 border-neutral-700  h-8 w-8",children:[t.jsx(L,{alt:"@shadcn",src:e.user.img}),t.jsx(A,{className:"text-sm",children:"CN"})]})}),t.jsxs("div",{children:[t.jsx("h4",{className:"text-xs font-medium",children:"Emily Johnson"}),t.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:e.user.username})]})]}),t.jsx("p",{className:"text-xs px-4 pb-4",children:e.commentContent})]})}function ye({comments:e,userId:n,postId:a}){const[s,r]=h.useState("");async function o(){const l=k.loading("Posting comment....");try{await y.post("http://localhost:3000/api/comment/create",{commentContent:s,userId:n,postId:a}),k.success("Comment posted",{id:l})}catch(i){k.error("Error posting comment",{id:l}),console.log(i)}}return t.jsx("div",{children:t.jsxs(w,{className:"rounded-2xl space-y-4 p-4  dark:border-neutral-700 dark:shadow-none shadow-[0px_0px_20px_1px] ",children:[t.jsxs("div",{className:"flex flex-col gap-2",children:[t.jsx(I,{value:s,onChange:l=>r(l.target.value),placeholder:"Write some comment...",className:"border-neutral-600"}),t.jsx(x,{onClick:()=>o(),className:"flex items-center justify-center bg-blue-400 text-black w-fit h-fit py-2 mt-2 px-6 self-end",children:"Post"})]}),t.jsx("p",{className:"text-sm dark:text-neutral-200 ml-4  w-fit",children:"All Comments"}),t.jsx("hr",{className:"dark:border-neutral-700"}),e.length==0?t.jsx("p",{className:"text-sm px-3 text-neutral-500",children:"No comments yet"}):e.map(l=>t.jsx(pe,{comment:l}))]})})}function m(e){const n=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&n==="[object Date]"?new e.constructor(+e):typeof e=="number"||n==="[object Number]"||typeof e=="string"||n==="[object String]"?new Date(e):new Date(NaN)}function je(e,n){return e instanceof Date?new e.constructor(n):new Date(n)}const C=43200,z=1440;let be={};function ve(){return be}function O(e){const n=m(e),a=new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()));return a.setUTCFullYear(n.getFullYear()),+e-+a}function S(e,n){const a=m(e),s=m(n),r=a.getTime()-s.getTime();return r<0?-1:r>0?1:r}function ke(e){return je(e,Date.now())}function Ne(e,n){const a=m(e),s=m(n),r=a.getFullYear()-s.getFullYear(),o=a.getMonth()-s.getMonth();return r*12+o}function we(e){return n=>{const s=(e?Math[e]:Math.trunc)(n);return s===0?0:s}}function Me(e,n){return+m(e)-+m(n)}function De(e){const n=m(e);return n.setHours(23,59,59,999),n}function Pe(e){const n=m(e),a=n.getMonth();return n.setFullYear(n.getFullYear(),a+1,0),n.setHours(23,59,59,999),n}function Ce(e){const n=m(e);return+De(n)==+Pe(n)}function Se(e,n){const a=m(e),s=m(n),r=S(a,s),o=Math.abs(Ne(a,s));let l;if(o<1)l=0;else{a.getMonth()===1&&a.getDate()>27&&a.setDate(30),a.setMonth(a.getMonth()-r*o);let i=S(a,s)===-r;Ce(m(e))&&o===1&&S(e,s)===1&&(i=!1),l=r*(o-Number(i))}return l===0?0:l}function We(e,n,a){const s=Me(e,n)/1e3;return we(a==null?void 0:a.roundingMethod)(s)}const Le={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Ae=(e,n,a)=>{let s;const r=Le[e];return typeof r=="string"?s=r:n===1?s=r.one:s=r.other.replace("{{count}}",n.toString()),a!=null&&a.addSuffix?a.comparison&&a.comparison>0?"in "+s:s+" ago":s};function F(e){return(n={})=>{const a=n.width?String(n.width):e.defaultWidth;return e.formats[a]||e.formats[e.defaultWidth]}}const Fe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Ie={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Re={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Te={date:F({formats:Fe,defaultWidth:"full"}),time:F({formats:Ie,defaultWidth:"full"}),dateTime:F({formats:Re,defaultWidth:"full"})},_e={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},ze=(e,n,a,s)=>_e[e];function D(e){return(n,a)=>{const s=a!=null&&a.context?String(a.context):"standalone";let r;if(s==="formatting"&&e.formattingValues){const l=e.defaultFormattingWidth||e.defaultWidth,i=a!=null&&a.width?String(a.width):l;r=e.formattingValues[i]||e.formattingValues[l]}else{const l=e.defaultWidth,i=a!=null&&a.width?String(a.width):e.defaultWidth;r=e.values[i]||e.values[l]}const o=e.argumentCallback?e.argumentCallback(n):n;return r[o]}}const Oe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Ee={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Ve={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},He={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Xe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},qe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Ye=(e,n)=>{const a=Number(e),s=a%100;if(s>20||s<10)switch(s%10){case 1:return a+"st";case 2:return a+"nd";case 3:return a+"rd"}return a+"th"},Ue={ordinalNumber:Ye,era:D({values:Oe,defaultWidth:"wide"}),quarter:D({values:Ee,defaultWidth:"wide",argumentCallback:e=>e-1}),month:D({values:Ve,defaultWidth:"wide"}),day:D({values:He,defaultWidth:"wide"}),dayPeriod:D({values:Xe,defaultWidth:"wide",formattingValues:qe,defaultFormattingWidth:"wide"})};function P(e){return(n,a={})=>{const s=a.width,r=s&&e.matchPatterns[s]||e.matchPatterns[e.defaultMatchWidth],o=n.match(r);if(!o)return null;const l=o[0],i=s&&e.parsePatterns[s]||e.parsePatterns[e.defaultParseWidth],d=Array.isArray(i)?Be(i,j=>j.test(l)):Je(i,j=>j.test(l));let c;c=e.valueCallback?e.valueCallback(d):d,c=a.valueCallback?a.valueCallback(c):c;const f=n.slice(l.length);return{value:c,rest:f}}}function Je(e,n){for(const a in e)if(Object.prototype.hasOwnProperty.call(e,a)&&n(e[a]))return a}function Be(e,n){for(let a=0;a<e.length;a++)if(n(e[a]))return a}function Qe(e){return(n,a={})=>{const s=n.match(e.matchPattern);if(!s)return null;const r=s[0],o=n.match(e.parsePattern);if(!o)return null;let l=e.valueCallback?e.valueCallback(o[0]):o[0];l=a.valueCallback?a.valueCallback(l):l;const i=n.slice(r.length);return{value:l,rest:i}}}const Ze=/^(\d+)(th|st|nd|rd)?/i,$e=/\d+/i,Ke={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Ge={any:[/^b/i,/^(a|c)/i]},et={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},tt={any:[/1/i,/2/i,/3/i,/4/i]},at={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},nt={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},st={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},rt={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},it={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},lt={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},ot={ordinalNumber:Qe({matchPattern:Ze,parsePattern:$e,valueCallback:e=>parseInt(e,10)}),era:P({matchPatterns:Ke,defaultMatchWidth:"wide",parsePatterns:Ge,defaultParseWidth:"any"}),quarter:P({matchPatterns:et,defaultMatchWidth:"wide",parsePatterns:tt,defaultParseWidth:"any",valueCallback:e=>e+1}),month:P({matchPatterns:at,defaultMatchWidth:"wide",parsePatterns:nt,defaultParseWidth:"any"}),day:P({matchPatterns:st,defaultMatchWidth:"wide",parsePatterns:rt,defaultParseWidth:"any"}),dayPeriod:P({matchPatterns:it,defaultMatchWidth:"any",parsePatterns:lt,defaultParseWidth:"any"})},ct={code:"en-US",formatDistance:Ae,formatLong:Te,formatRelative:ze,localize:Ue,match:ot,options:{weekStartsOn:0,firstWeekContainsDate:1}};function dt(e,n,a){const s=ve(),r=(a==null?void 0:a.locale)??s.locale??ct,o=2520,l=S(e,n);if(isNaN(l))throw new RangeError("Invalid time value");const i=Object.assign({},a,{addSuffix:a==null?void 0:a.addSuffix,comparison:l});let d,c;l>0?(d=m(n),c=m(e)):(d=m(e),c=m(n));const f=We(c,d),j=(O(c)-O(d))/1e3,u=Math.round((f-j)/60);let p;if(u<2)return a!=null&&a.includeSeconds?f<5?r.formatDistance("lessThanXSeconds",5,i):f<10?r.formatDistance("lessThanXSeconds",10,i):f<20?r.formatDistance("lessThanXSeconds",20,i):f<40?r.formatDistance("halfAMinute",0,i):f<60?r.formatDistance("lessThanXMinutes",1,i):r.formatDistance("xMinutes",1,i):u===0?r.formatDistance("lessThanXMinutes",1,i):r.formatDistance("xMinutes",u,i);if(u<45)return r.formatDistance("xMinutes",u,i);if(u<90)return r.formatDistance("aboutXHours",1,i);if(u<z){const b=Math.round(u/60);return r.formatDistance("aboutXHours",b,i)}else{if(u<o)return r.formatDistance("xDays",1,i);if(u<C){const b=Math.round(u/z);return r.formatDistance("xDays",b,i)}else if(u<C*2)return p=Math.round(u/C),r.formatDistance("aboutXMonths",p,i)}if(p=Se(c,d),p<12){const b=Math.round(u/C);return r.formatDistance("xMonths",b,i)}else{const b=p%12,M=Math.trunc(p/12);return b<3?r.formatDistance("aboutXYears",M,i):b<9?r.formatDistance("overXYears",M,i):r.formatDistance("almostXYears",M+1,i)}}function ut(e,n){return dt(e,ke(e),n)}function mt(e){return ut(e,{addSuffix:!0})}function ht({post:e}){const[n,a]=h.useState(!1),[s,r]=h.useState(e.like),o=h.useRef(null);h.useEffect(()=>{a(e.liked),r(e.like)},[e.liked,e.like]),h.useEffect(()=>{const i=new IntersectionObserver(async d=>{if(d[0].isIntersecting)try{await y.post(`${q}/api/post/view`,{userId:e.user.id,postId:e.id})}catch(c){console.error("Error updating view count:",c)}},{threshold:.5});return o.current&&i.observe(o.current),()=>{o.current&&i.unobserve(o.current)}},[e.id,e.user.id]);const l=async()=>{if(n){a(!1),r(i=>i-1);try{await y.post("http://localhost:3000/api/post/unlike",{postId:e.id,userId:1})}catch(i){a(!0),r(d=>d+1),console.error("Error liking post",i)}}else{a(!0),r(i=>i+1);try{await y.post("http://localhost:3000/api/post/like",{postId:e.id,userId:1})}catch(i){a(!1),r(d=>d-1),console.error("Error liking post",i)}}};return t.jsx("div",{ref:o,children:t.jsxs(w,{className:"rounded-2xl  shadow-neutral-300 dark:border-neutral-700 dark:shadow-none shadow-[0px_0px_20px_1px] ",children:[t.jsxs("div",{className:"flex pl-4 mt-4 gap-4 justify-between",children:[t.jsxs("div",{className:"flex gap-4 items-center",children:[t.jsxs("div",{className:"relative",children:[t.jsxs(W,{className:"border-2 border-neutral-700",children:[t.jsx(L,{alt:"@shadcn",src:e.user.img}),t.jsx(A,{children:"CN"})]}),t.jsx("div",{className:"absolute bottom-0 right-0 h-4 w-4 rounded-full bg-green-500 border-2 border-white dark:border-gray-800"})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"text-sm font-medium",children:e.user.name}),t.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:["@_",e.user.username]})]})]}),t.jsx("p",{children:e.label})]}),t.jsxs("div",{className:"p-4",children:[t.jsx("h3",{className:"text-base underline font-semibold",children:e.title}),t.jsx("p",{className:"dark:text-neutral-300 text-neutral-700 text-sm",children:e.desc})]}),t.jsxs("div",{className:"grid grid-cols-1 gap-2 p-4",children:[e.img&&t.jsx("img",{alt:"Post Image",className:"h-auto w-full rounded-lg object-cover",src:e.img}),e.video&&t.jsx("video",{className:"h-auto w-full rounded-lg object-cover",src:e.video,controls:!0}),e.link&&t.jsxs(w,{className:"p-4 border-neutral-700 flex items-center gap-3",children:[t.jsx(Y,{className:"h-5 w-5"}),t.jsx(X,{className:"hover:underline",to:e.link,children:e.link})]}),t.jsx("div",{children:t.jsx("div",{className:"flex items-center justify-between pt-2 text-gray-500 dark:text-gray-400",children:t.jsxs("div",{className:"flex items-center justify-between w-full",children:[t.jsxs(x,{size:"icon",variant:"ghost",className:"flex gap-1",onClick:l,children:[t.jsx(ee,{className:R("h-4 w-4 transition-all duration-150 ease-linear",n?"fill-red-500 text-red-500":"text-gray-500")}),t.jsx("span",{className:"sr-only",children:"Like"}),t.jsx("span",{className:"text-sm",children:s})]}),t.jsxs(E,{children:[t.jsxs(V,{children:[" ",t.jsxs(x,{size:"icon",variant:"ghost",className:"flex  gap-1",children:[t.jsx(se,{className:"h-4 w-4"}),t.jsx("span",{className:"sr-only",children:"Comment"}),t.jsx("span",{className:"text-sm",children:e.comment})]})]}),t.jsx(H,{className:"border-none bg-transparent max-w-[600px]",children:t.jsx(ye,{comments:e.comments,userId:e.user.id,postId:e.id})})]}),t.jsxs(x,{size:"icon",variant:"ghost",className:"flex gap-1",children:[t.jsx(ce,{className:"h-4 w-4"}),t.jsx("span",{className:"sr-only",children:"Share"}),t.jsx("span",{className:"text-sm",children:e.view})]}),t.jsx("div",{className:"text-xs",children:mt(e.createdAt)})]})})})]})]})})}const ft=e=>y.get(e).then(n=>n.data);function xt(){const{data:e,isLoading:n,error:a}=T("http://localhost:3000/api/posts/1",ft);return n?t.jsx(gt,{}):a?t.jsx("div",{children:"Error loading posts"}):t.jsx("div",{className:"grid gap-6 col-span-10 lg:col-span-7 xl:col-span-5",children:e.map(s=>t.jsx(ht,{post:s},s.id))})}function gt(){return t.jsxs("div",{className:"grid gap-6 col-span-10 lg:col-span-7 xl:col-span-5",children:[t.jsx(v,{className:"w-full h-[400px] rounded-2xl"}),t.jsx(v,{className:"w-full h-[400px] rounded-2xl"}),t.jsx(v,{className:"w-full h-[400px] rounded-2xl"})]})}function pt({mentor:e}){return t.jsx(w,{className:"dark:border-neutral-700",children:t.jsxs("div",{className:"flex pl-4 my-2 gap-4",children:[t.jsxs("div",{className:"relative",children:[t.jsxs(W,{className:"  border-2 border-neutral-700  h-8 w-8",children:[t.jsx(L,{alt:"@shadcn",src:e.imgSrc}),t.jsx(A,{className:"text-sm",children:"CN"})]}),t.jsx("div",{className:"absolute bottom-0 right-0 h-4 w-4 rounded-full bg-green-500 border-2 border-white dark:border-gray-800"})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"text-sm font-medium",children:e.name}),t.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:e.currPost})]})]})})}function yt(){const{data:e,isLoading:n,error:a}=T(`${q}/api/mentor/all`,async r=>await y.get(r)),s=K();if(a)return t.jsx("div",{children:"Failed to load"});if(n)return t.jsx(jt,{});if(e)return t.jsxs("div",{className:"col-span-2 hidden xl:flex flex-col gap-4 sticky top-24 h-fit",children:[e.data.mentors.map(r=>t.jsx(pt,{mentor:r})),t.jsxs(x,{onClick:()=>s("/mentors"),className:"flex pl-4 my-2 gap-4 text-center text-sm font-medium",children:[t.jsx(le,{className:"w-5 h-5"})," Search for more Mentors..."]})]})}function jt(){return t.jsxs("div",{className:"col-span-2 flex flex-col gap-4 sticky top-24 h-fit",children:[t.jsx(v,{className:"col-span-3 h-[60px] rounded-xl"}),t.jsx(v,{className:"col-span-3 h-[60px] rounded-xl"}),t.jsx(v,{className:"col-span-3 h-[60px] rounded-xl"}),t.jsx(v,{className:"col-span-3 h-[60px] rounded-xl"}),t.jsx(v,{className:"col-span-3 h-[60px] rounded-xl"}),t.jsx(v,{className:"col-span-3 h-[60px] rounded-xl"})]})}function bt(){return t.jsxs("div",{className:"grid grid-cols-10 relative  gap-4 p-6 ",children:[t.jsx(xe,{}),t.jsx(xt,{}),t.jsx(yt,{})]})}function Mt(){return t.jsx("div",{className:"bg-white dark:bg-black",children:t.jsx(bt,{})})}export{Mt as default};
